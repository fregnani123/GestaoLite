<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self' http://localhost:3000; object-src 'none'; base-uri 'self'; form-action 'self';">
    <link rel="stylesheet" href="../style/css-global/global.css" />
    <link rel="stylesheet" href="../style/css-global/inputs.css" />
    <link rel="stylesheet" href="../style/css-global/table.css" />
    <link rel="stylesheet" href="../style/css-individual/produto_cadastro.css" />

    <title>Cadastrar Produto</title>
</head>

<body>
    <div id="loading-overlay" class="active">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>
    <div class="container">
        <header>
            <nav class="menu-suspenso barra-header">
                <ul id="ul-Menu">

                </ul>
            </nav>
        </header>
        <div class="formulario-container">
            <div class="formulario-container-flex">
                <div class="menu-lateral">
                    <nav class="menu-suspenso">
                        <ul>
                            <li><a id="btn-ativo" href="./registrar_produto.html"><img class="img-informacao"
                                        src="../style/img/mais.png" alt="Atenção">Cadastrar novo
                                    produto</a></li>
                            <li><a href="./alterar_produto.html"><img class="img-informacao"
                                        src="../style/img/alterar.png" alt="Atenção">Cadastro do produto / alterar</a>
                            </li>
                            <li><a href="./informacoes_produtos.html"><img class="img-informacao"
                                        src="../style/img/info-estoque.png" alt="Atenção">Estoque e informações do
                                    produto</a></li>
                            <li><a href="./controle_estoque.html"><img class="img-informacao"
                                        src="../style/img/estoque-pronto.png" alt="Atenção">Entradas e Saídas de
                                    Estoque</a>
                            </li>
                            <li><a href="./desabilitar_produto.html"><img class="img-informacao"
                                        src="../style/img/cancelar.png" alt="Atenção">Desabilitar produto</a></li>
                            <li>
                                <a><img class="img-informacao" src="../style/img/conversacao.png" alt="Atenção">Mensagem
                                    informativa
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <div class="div-logo-empresa">
                        <img class="logo-empresa" src="../style/img/logoLGL-removebg-preview (1).png"
                            alt="logo-empresa">
                    </div>
                </div>

                <div style="width: 100%;height: 100vh;">

                    <div class="formulario">
                        <div class="div-formulario">
                            <div class="formulario-conteudo" style="gap: 0; border-right: none;">

                                <div class="formulario-inputs" style=" margin-left: 0;padding-bottom: 1%;">

                                    <div style="display: flex; width: 100%;">
                                        <div class="formulario-img" style="border:none;margin-left: 1%;">
                                            <p>Imagem do produto</p>
                                            <div class="quadro-img">
                                                <img class="img-produto"
                                                    src="../style/img/codigo-de-barras - interno.png"
                                                    alt="imagem produto">
                                            </div>
                                            <div class="input-file-wrapper">
                                                <input type="file" id="produto-imagem" accept="image/*">
                                            </div>

                                        </div>
                                        <div style="width: 100%; margin-left: 1.5%;">


                                            <table class="table-1-produto" style="margin-bottom: 2%;">
                                                <tr>
                                                    <th style="width: 35%;">Código / Cód. Barras</th>
                                                    <th class="col-nome" >Nome / Descrição</th>
                                                </tr>
                                                <tr>
                                                    <td>  <div style="justify-content: left; display: flex; width: 100%;"> <input type="number" id="codigoDeBarras" name="codigoDeBarras" style="width: 80%;"
                                                            autocomplete="off" placeholder="Digite o Cod. barras"></div>
                                                    </td>
                                                    <td>
                                                        <div style="justify-content: left; display: flex; width: 100%;">     <input type="text" id="nomeProduto" name="nome" style="width: 90%;"
                                                            autocomplete="off" placeholder="Digite o nome do produto"></div>
                                                   
                                                    </td>
                                                </tr>
                                            </table>

                                            <table style="margin-bottom: 2%;">
                                                <tr>
                                                    <th>Grupo</th>
                                                    <th>Subgrupo
                                                    </th>

                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div style="display: flex; align-items: center; gap: 2%;">
                                                            <select id="grupo" name="grupo" style="width: 50%;">
                                                                <option value="">-- Selecione --</option>
                                                            </select>
                                                            <button id="add-grupo" class="add-grupo"
                                                                title="Cadastrar grupo"
                                                                style="display: flex; align-items: center;">
                                                                <img src="../style/img/mais.png" alt=""
                                                                    style="width: 18px;">
                                                            </button>
                                                        </div>

                                                    </td>

                                                    <td>
                                                        <div style="display: flex; align-items: center; gap: 2%;">
                                                            <select id="sub-grupo" name="grupo" style="width: 50%;">
                                                                <option value="">-- Selecione --</option>
                                                            </select>
                                                            <button id="add-subGrupo" class="add-subGrupo"
                                                                title="Cadastrar subGrupo"
                                                                style="display: flex; align-items: center;">
                                                                <img src="../style/img/mais.png" alt="Adicionar"
                                                                    style="width: 18px;">
                                                            </button>
                                                        </div>

                                                    </td>

                                                </tr>
                                            </table>

                                            <table>
                                                <tr>
                                                    <th style="width: 38%;">Cor do Produto
                                                    </th>
                                                    <th>Caracteristica do Produto</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                            <div style="display: flex; align-items: center; gap: 2%;">
                                                        <select id="corProduto" name="corProduto" style="width: 70%;"> 
                                                            <option value="">-- Selecione --</option>
                                                        </select> <button id="add-cor" class="add-cor"
                                                            style="display: flex; align-items: center; gap: 8px;">
                                                            <img src="../style/img/mais.png" alt="Adicionar"
                                                                style="width: 20px;">

                                                        </button>
                                                    </div>

                                                    </td>

                                                    <td>
                                                        <div class="caracteristica-container">
                                                            <select id="escolhaUM" style="width: 75%;">
                                                                <option value="">-- Caracteristica do Produto
                                                                    --
                                                                </option>
                                                                <option value="Tamanho - P/GG">Tamanho - P/GG</option>
                                                                <option value="Tamanho - Numeração">Tamanho - Numeração
                                                                </option>
                                                                <option value="Medida de Volume">Medida de Volume
                                                                </option>
                                                                <option value="Unidade Comprimento">Unidade Comprimento
                                                                </option>
                                                                <option value="Unidade de Massa">Unidade de Massa
                                                                </option>
                                                            </select>


                                                            <div id="volumeDiv" class="input-select-wrapper">
                                                                <span class="span-dois-pontos"><strong>:</strong></span>
                                                                <input id="volumeNumero" type="number">
                                                                <select id="medidaVolume" name="medidaVolume">
                                                                </select>
                                                            </div>

                                                            <div id="comprimentoDiv" class="input-select-wrapper">
                                                                <span class="span-dois-pontos"><strong>:</strong></span>
                                                                <input id="comprimento" type="number">
                                                                <select id="unidadeComprimento"
                                                                    name="unidadeComprimento">
                                                                </select>
                                                            </div>

                                                            <div id="massaDiv" class="input-select-wrapper">
                                                                <span class="span-dois-pontos"><strong>:</strong></span>
                                                                <input id="massaNumero" type="number">
                                                                <select id="unidadeDeMassa" name="unidadeMassa">
                                                                </select>
                                                            </div>

                                                            <div id="divTamanho">
                                                                <span class="span-dois-pontos"><strong>:</strong></span>
                                                                <select id="tamanhoLetras" name="tamanhoLetras">
                                                                </select>
                                                            </div>

                                                            <div id="divTamanhoNUm">
                                                                <span class="span-dois-pontos"><strong>:</strong></span>
                                                                <select id="tamanhoNumeros" name="tamanho">
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>



                                    <!-- div responsavel por renderizar o grup e subgrupo e cores. -->
                                    <div class="container-register">

                                    </div>



                                    <table style="width: 100%;margin-right: .5%;">
                                        <tr>
                                            <th style="width: 30%;">
                                                Marca
                                            </th>
                                            <th>Preço de Compra</th>
                                            <th>Lucro Bruto (R$)</th>
                                            <th>Preço de Venda</th>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div style="display: flex; align-items: center; gap: 2%;"> <select
                                                        name="" id="marca_nome">
                                                        <option value="">-- Selecione --</option>
                                                    </select>
                                                    <button id="btnMarca" title="Cadastrar Marca"
                                                        style="display: flex; align-items: center; gap: 8px;"
                                                        title="Cadastrar Marca">
                                                        <img src="../style/img/mais.png" alt="Adicionar"
                                                            style="width: 18px;">
                                                    </button>
                                                </div>

                                            </td>

                                            <td><input value="0,00" id="precoCusto" name="preco" autocomplete="off">
                                            </td>
                                            <td>
                                                <input value="0,00" id="lucro" name="" autocomplete="off" readonly>
                                                <input type="hidden" value="0" id="inputMarkup">
                                            </td>
                                            <td><input value="0,00" id="precoVenda" name="preco" autocomplete="off">
                                            </td>
                                        </tr>
                                    </table>









                                    <div id="divFornecedor">
                                        <!-- Div para pesquisar e buscar o nome do fornecedor a ser adicionado no cadastro do produto -->

                                        <div id="divContainerFornecedor">
                                            <div id="divBuscarPorNome">

                                                <label style="margin-top: 1%;">Selecione o fornecedor que será vinculado
                                                    ao produto.</label>
                                                <p id="exit-nome-fornecedor">&times;</p>
                                                <table>
                                                    <tr>
                                                        <th>
                                                            <div style="display: flex; align-items: center; gap: 1%;">
                                                                <img style="width: 22px;"
                                                                    src="../style/img/procurar-black.png" alt="">
                                                                Filtrar fornecedor por nome
                                                            </div>
                                                        </th>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <input type="text" id="input-busca-nome"
                                                                placeholder="Digite o nome do fornecedor..." />
                                                        </td>
                                                    </tr>

                                                </table>
                                                <table style="margin-top: 1%;">
                                                    <tr>
                                                        <td>

                                                            <div id="resultado-nomes"></div>

                                                        </td>
                                                    </tr>
                                                </table>
                                                <table style="margin-top: 3%;">
                                                    <tr>
                                                        <td class="info-pag" id="info-pag">
                                                            ⚠️ O fornecedor precisa estar previamente cadastrado no
                                                            sistema para que o produto seja vinculado.
                                                        </td>
                                                    </tr>
                                                </table>

                                            </div>
                                            <p id="btn-exit-fornecedor-prod">&times;</p>
                                            <label>Selecione o fornecedor que será vinculado ao produto.</label>
                                            <table>
                                                <tr>
                                                    <th style="white-space: nowrap;">
                                                        <div
                                                            style="display: inline-flex; align-items: center; gap: 5px;">

                                                            Filtrar fornecedor por CNPJ
                                                        </div>
                                                    </th>
                                                    <th style="white-space: nowrap;">
                                                        <div
                                                            style="display: inline-flex; align-items: center; gap: 5px;">

                                                            Filtrar fornecedor por CPF
                                                        </div>
                                                    </th>

                                                </tr>

                                                <tr>
                                                    <td>
                                                        <div style="display: flex;justify-content: left;">
                                                            <input id="cnpjFilter" type="text"
                                                                placeholder="Digite CNPJ para filtrar">
                                                            <input type="hidden" id="fornecedorID">
                                                        </div>

                                                    </td>
                                                    <td>
                                                        <div style="display: flex;justify-content: left;"><input
                                                                id="cpfFilter" type="text"
                                                                placeholder="Digite CPF para filtrar"></div>

                                                    </td>

                                                </tr>
                                            </table>
                                            <table>
                                                <tr>
                                                    <th style="width: 100%;">
                                                        selecionar Razão Social fornecedor
                                                    </th>

                                                </tr>
                                                <tr>
                                                    <td>
                                                        <div
                                                            style="display: flex; gap: 2%; align-items: center; width: 100%; justify-content: space-between;">
                                                            <input id="fornecedorEncontrado" type="text" readonly style="width: 100% !important;
    border: none;
    background: transparent;
    outline: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    font: inherit;
    color: inherit;
    width: auto;
    color: black;
" placeholder="Fornecedor não selecionado"><button title="Filtrar por nome" id="btn-nome-buscar"> <img
                                                                    style="width: 18px;" src="../style/img/procurar.png"
                                                                    alt=""></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table>
                                                <tr>

                                                    <th>
                                                        Nome Fantasia fornecedor
                                                    </th>
                                                </tr>
                                                <tr>

                                                    <td>

                                                        <div
                                                            style="display: flex; gap: 2%; align-items: center; width: 100%; justify-content: space-between;">
                                                            <input id="inputFornecedorRazãoSocial" type="text" readonly
                                                                style="width: 100% !important;
    border: none;
    background: transparent;
    outline: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    font: inherit;
    color: inherit;
    width: auto;
    color: black;
" placeholder="Fornecedor não selecionado"><button title="Filtrar por nome" class="btn-nome-buscar" style=""> <img
                                                                    style="width: 18px; "
                                                                    src="../style/img/procurar.png" alt=""></button>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table>
                                                <tr>
                                                    <th style="width: 70%;">

                                                    </th>
                                                    <th>
                                                        Gravar fornecedor
                                                    </th>
                                                    <th>
                                                        Limpar Fornecedor
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <td>

                                                    </td>
                                                    <td>
                                                        <button id="btn-alterar-confirmar">
                                                            <img style="width: 20px;" src="../style/img/disquete.png"
                                                                alt="">Confirmar
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button id="limparButton-fornecedor" title="Limpar formulário">
                                                            <img class="img-excluir" src="../style/img/excluir.png"
                                                                alt="">Limpar
                                                        </button>
                                                    </td>
                                                </tr>
                                            </table>

                                            <table style="margin-top: 3%;">
                                                <tr>
                                                    <td class="info-pag" id="info-pag">
                                                        ⚠️ O fornecedor precisa estar previamente cadastrado no
                                                        sistema para que o produto seja vinculado.
                                                    </td>
                                                </tr>
                                            </table>

                                        </div>
                                    </div>











                                    <table class="table-5-produto" style="width: 100%; margin-right: .5%;">
                                        <tr>
                                            <th style="width: 50%;">
                                                Fornecedor - Razão Social
                                            </th>
                                            <th>
                                                Estoque mínimo
                                            </th>
                                            <th style="width: 30%;">Estoque Inicial</th>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div style="display: flex; align-items: center; gap: 2%;">
                                                    <input id="showFornecedor"
                                                        placeholder="Nenhum fornecedor — clique em buscar para selecionar"
                                                        name="fornecedor" readonly>
                                                    <button id="buscar-fornecedor" title="Filtrar Fornecedor"><img
                                                            style="width: 20px;" src="../style/img/procurar.png" alt="">
                                                    </button>
                                                </div>

                                            </td>

                                            <td>
                                                <input type="text" id="estoque_minimo" placeholder="0">
                                            </td>
                                            <input type="hidden" id="estoque_maximo" placeholder="0">
                                            <td>
                                                <div class="input-select-wrapper">
                                                    <input type="number" id="estoqueQtd" name="estoqueQtd"
                                                        placeholder="0" autocomplete="off" style="text-align: center;">
                                                    <select id="unidadeEstoque" name="unidadeEstoque">
                                                        <option value="">-- Selecione --</option>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <table>
                                            <tr>
                                                <th style="width: 70%;"></th>

                                                <th>Gravar produto</th>
                                                <th>Limpar Formulário</th>

                                            </tr>
                                            <tr>

                                                <td>

                                                </td>

                                                <td>

                                                    <button id="btn-cadastrar-produto" class="btn-cadastrar-produto">
                                                        <img class="img-disquete" src="../style/img/disquete.png"
                                                            alt="">Gravar
                                                    </button>

                                                </td>
                                                <td>
                                                    <button id="limparButton" title="Limpar formulário">
                                                        <img class="img-excluir" src="../style/img/excluir.png"
                                                            title="Limpar formulário">Limpar
                                                    </button>
                                                </td>
                                            </tr>
                                        </table>

                                        <textarea style="display:none" id="observacoes" name="observacoes"
                                            autocomplete="off">
                                    </textarea>
                                        <input type="hidden" id="Qtd_vendido" name="variavelOculta" value="">
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="div-correcao-view">

                    </div>
                </div>

            </div>
        </div>
</body>
<script src="../Renderer/transicao.js" defer></script>
<script src="../Renderer/Menu/renderer_menu.js"></script>
<script src="../Renderer/services/converte_moeda.js"></script>
<script src="../Renderer/Produto/renderizarInputsGrupo.js"></script>
<script src="../Renderer/Produto/apiEndpoints.js"></script>
<script src="../Renderer/services/alertMsg.js"></script>
<script src="../Renderer/Produto/renderer_produtos.js"></script>
<script src="../Renderer/services/formatters.js"></script>

</html>